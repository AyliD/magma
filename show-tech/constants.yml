# PREREQ section
ansible_apt_repo: "ppa:ansible/ansible"
ubuntu_apt_keyserver: "keyserver.ubuntu.com"
ubuntu_apt_id: "93C4A3FD7BB9C367"
ansible_community_commands:
  - "ansible-galaxy collection install community.general"
apt_prereq_packages:
    - git
    - ansible
    - python-jmespath

# SHOW_TECH section
general_commands:
  - "uname -a"
  - "top -b -n 1"
  - "df -kh"
debian_commands:
  - "dpkg -l | grep magma"
  - "ovs-vsctl show"
  - "apt show magma"
  - "service magma@* status"
  - "show_gateway_info.py"
  - "checkin_cli.py"
  - "mobility_cli.py get_subscriber_table"
  - "pipelined_cli.py debug display_flows"
  - "enodebd_cli.py get_all_status"
  - "ip addr"
  - "ping google.com -I eth0 -c 5"
  - "journalctl -u magma@*"
  - "timeout 60 sudo tcpdump -i any sctp -w {{ report_dir_output.stdout }}/sctp.pcap"


# files to collect from src to relative destination in tar.gz package
paths_to_collect:
  - src: "/var/opt/magma/configs/*"
    relative_dest: "var/opt/magma/configs"
  - src: "/etc/magma/configs/*"
    relative_dest: "etc/magma/configs"
  - src: "/etc/systemd/system"
    relative_dest: "systemd"
  - src: "/tmp/*core*"
    relative_dest: "cores"
  - src: "/usr/local/bin/mme"
    relative_dest: "cores"
  - src: "/var/log/syslog"
    relative_dest: "var_logs"
  - src: "/var/log/MME.*"
    relative_dest: "var_logs"
  - src: "/var/log/enode.*"
    relative_dest: "var_logs"
